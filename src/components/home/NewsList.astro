---
// NewsList.astro
let news = 0;
const newsInfo = [
    {
        title: 'NIETEN TRIFFT ZUM SPÄTEN REMIS',
        desc: 'Die Zweitvertretung von ESV Olympia Köln war als Siegesanwärter bei SV Fühlingen I angetreten, musste sich jedoch mit einem 3:3-Unentschieden zufriedengeben. Ein Punkt für die Statistik, doch moralisch stand SV Fühlingen I nach dem Remis gegen den Favoriten – ESV Olympia Köln II – sogar als Sieger da. Vor eigener Kulisse hatte ESV Olympia Köln II beim 2:2 im Hinspiel einen Zähler geholt.',
        img: '../images/FBDE_RT_7_832x468.jpg',
        img_small: '../images/FBDE_RT_7_432x243.jpg'
    },
    {
        title: 'SV FÜHLINGEN I STARTET IN DIE RÜCKRUNDE',
        desc: 'SV Fühlingen I steht gegen die Reserve von ESV Olympia Köln eine schwere Aufgabe bevor. SV Fühlingen I kam zuletzt gegen TV Rodenkirchen zu einem 3:3-Unentschieden. Gegen GSV Galanolefkos-Hellas Colonias kam ESV Olympia Köln II im letzten Match nicht über ein Remis hinaus (2:2). Im Hinspiel begnügten sich beide Mannschaften mit einer 2:2-Punkteteilung.',
        img: '../images/FBDE_RT_11_832x468.jpg',
        img_small: '../images/FBDE_RT_11_432x243.jpg'
    },
    {
        title: 'KEIN SIEGER IM KELLERDUELL',
        desc: 'Im Spiel von TV Rodenkirchen gegen SV Fühlingen I gab es Tore am laufenden Band. Am Ende teilten sich sich beide Kontrahenten die Punkte beim Stand von 3:3. Vor dem Spiel war kein Favorit auszumachen und das spiegelte sich auch im Ergebnis wider.',
        img: '../images/FBDE_RT_18_832x468.jpg',
        img_small: '../images/FBDE_RT_18_432x243.jpg'
    }
];
---

<script type="module">
    let news = 0;

    function changeNews(newsId: number) {
        news = newsId;
        updateDisplay();
    }

    function updateDisplay() {
        document.querySelectorAll('.news-item').forEach((el: Element, index) => {
            (el as HTMLElement).style.display = news === index ? 'block' : 'none';
        });
    }

    document.addEventListener('DOMContentLoaded', () => {
        document.querySelectorAll('.news-selector').forEach((el, index) => {
            el.addEventListener('click', () => changeNews(index));
        });
        updateDisplay();
    });
</script>

<h3 class="title-bg">Mannschafts-News</h3>

<div class="flex flex-wrap overflow-hidden">
    <div class="md:w-4/6 overflow-hidden">
        {newsInfo.map((item, index) => (
                <div class={`border p-4 mr-6 mb-4 news-item ${news === index ? '' : 'hidden'}`}>
                    <a href="#">
                        <img src={item.img}/>
                    </a>
                    <a class="text-lg block my-4" href="#">{item.title}</a>
                    <div class="text-sm text-gray-800 leading-6">
                        {item.desc}
                    </div>
                    <!--<a class="mt-4 mb-2 inline-flex w-full justify-center rounded-md bg-black px-4 py-2.5 font-medium text-gray-200 uppercase hover:bg-yellow-400 hover:text-gray-800 sm:w-auto text-sm"href="#">Weiter lesen</a> -->
                </div>
            ))}
    </div>

    <div class="md:w-2/6 overflow-hidden md:text-left sm:text-center sm:w-full">
        {newsInfo.map((item, index) => (
                <div class={`rounded-md inline-block sm:mr-4 w-40 p-2 mb-2 border hover:bg-yellow-500 cursor-pointer news-selector ${news === index ? 'bg-yellow-400' : ''}`}>
                    <img src={item.img_small}/>
                </div>
        ))}
    </div>
</div>
